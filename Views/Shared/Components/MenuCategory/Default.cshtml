@model IEnumerable<Category>


<div class="bg-light border">
    <div class="bg-gray text-uppercase p-1">
        <i class="fa fa-list"></i> Kategorie
    </div>
    <ul class="nav navbar-nav">
        @foreach (var kategorie in Model)
        {
            var active = "";

            var active2 = "";

        if (@kategorie.CategoryId == ViewBag.KategoriaId)
        {
            active = "active";
        }

            @if(kategorie.Aktywny == true)
            {
                <li class="nav-link list-group-item list-group-item-action p-2">
                    <a class="@active text-dark text-decoration-none" asp-controller="Category" asp-route-KategoriaId="@kategorie.CategoryId" asp-action="Lista1">@kategorie.Name</a>
                </li>

                @if (kategorie.SubCategories.Count >= 1)
                {
                    @foreach (var kategorie2 in kategorie.SubCategories)
                    {

                    if (@kategorie2.SubCategoryId == ViewBag.KategoriaId2)
                    {
                        active2 = "active";
                    }
                    else
                    {
                        active2="";
                    }

                    <li class="nav-link list-group-item list-group-item-action px-4">
                        <a class="@active2 text-dark text-decoration-none" href="@Url.Action("Lista1Sub","Category", new {KategoriaId = kategorie2.SubCategoryId})">
                            @kategorie2.Name
                        </a>
                    </li>
                    }
                }
            }
        }
    </ul>
</div>