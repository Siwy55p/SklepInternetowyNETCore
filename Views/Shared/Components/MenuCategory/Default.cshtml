@model IEnumerable<Category>
@inject LanguageService language

<div class="bg-light border p-1">
    <div class="bg-gray text-uppercase p-1">
        <i class="fa fa-list"></i> Kategorie
    </div>
    <ul class="nav navbar-nav">
        @foreach (var kategorie in Model)
        {
            var active = "";

            @if (kategorie.Aktywny == true && kategorie.ParentId == 0)
            {

                if (@kategorie.CategoryId == ViewBag.KategoriaId)
                {
                    active = "active";
                }

                @if (kategorie.Aktywny == true)
                {
                    <li class="nav-link list-group-item list-group-item-action p-2">
                        <a class="@active text-dark text-decoration-none" asp-controller="Category" asp-route-KategoriaId="@kategorie.CategoryId" asp-action="Lista1">@language.Getkey(@kategorie.Name)</a>
                    </li>

                    @foreach (var kategorie2 in Model)
                    {
                        @if (kategorie2.ParentId == kategorie.CategoryId && kategorie2.ParentId != 0)
                        {

                            <li class="nav-link list-group-item list-group-item-action px-4">
                                <a class="@active text-dark text-decoration-none" href="@Url.Action("Lista1","Category", new {KategoriaId = kategorie2.CategoryId})">
                                @language.Getkey(@kategorie2.Name)
                                </a>
                            </li>
                        }
                    }
                }

            }
        }
    </ul>
</div>